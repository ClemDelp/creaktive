<!-- CSS -->
<link rel="stylesheet" href="styles/map.css">

<!-- Javascript libs -->

<script type="text/javascript" src="js/vendor/jquery.mousewheel-3.1.3.js"></script>
<script src="js/vendor/jquery.hotkeys.js"></script>
<script src="js/vendor/jquery.hammer.min.js"></script>
<script type="text/javascript" src="js/vendor/kinetic-v4.4.3.js"></script>
<script src="js/vendor/color-0.4.1.min.js"></script>
<script type="text/javascript" src="js/mapjs/kinetic.clip.js"></script>
<script type="text/javascript" src="js/mapjs/kinetic.idea.js"></script>
<script type="text/javascript" src="js/mapjs/kinetic.idea.proxy.js"></script>
<script type="text/javascript" src="js/mapjs/kinetic.connector.js"></script>
<script type="text/javascript" src="js/mapjs/observable.js"></script>
<script type="text/javascript" src="js/mapjs/mapjs.js"></script>
<script type="text/javascript" src="js/mapjs/url-helper.js"></script>
<script type="text/javascript" src="js/mapjs/content.js"></script>
<script type="text/javascript" src="js/mapjs/layout.js"></script>
<script type="text/javascript" src="js/mapjs/layout-compressor.js"></script>
<script type="text/javascript" src="js/mapjs/map-model.js"></script>
<script type="text/javascript" src="js/mapjs/kinetic-mediator.js"></script>
<script type="text/javascript" src="js/mapjs/map-toolbar-widget.js"></script>
<script type="text/javascript" src="js/mapjs/png-exporter.js"></script>
<script type="text/javascript" src="js/mapjs/map-widget.js"></script>


<!-- ******************************** -->
<!-- VISU dependances -->
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript" src="js/d3.v3/d3.v3.js" charset="utf-8"></script>
<script type="text/javascript" src="js/vendor/keshif.js" charset="utf-8"></script>
<link rel="stylesheet" href="styles/keshif.css"/ type="text/css">
<!-- ******************************** -->
<!-- CKEditor -->
<script src="/js/ckeditor/ckeditor.js"></script>
<!-- ******************************** -->
<!-- tags input -->
<link rel="stylesheet" type="text/css" href="styles/jquery.tagsinput.css" />

<script type="text/javascript" src="js/vendor/jquery.tagsinput.js"></script>
<!-- ******************************** -->

<!-- Templates to load -->
<%- partial('./templates/topBar_template') %>
<div class="interface">
  <dl class="tabs" data-tab>
    <dd><a href="#panel2-1">Concept</a></dd>
    <dd class="active"><a href="#panel2-2">Visualisation K(c)</a></dd>
    <dd><a href="#panel2-3">Knowledge</a></dd>
  </dl>
  <div class="tabs-content">
      <div class="content" id="panel2-1">
          <div id="interface1-container"></div>
          <div class="large-6 columns" id="container"></div>  
      </div>
      <div class="content active" id="panel2-2">
          <%- partial('./templates/visualisation_template') %>
      </div>
      <div class="content" id="panel2-3">
          <div id="interface3-container"></div>
      </div>
  </div>
</div>

<%- partial('./templates/concepts_template') %>
<%- partial('./templates/cklink_template') %>
<%- partial('./templates/explorer_template') %>

  



<!-- Javascript libs -->
<script type="text/javascript" src="js/vendor/socket.io.js"></script>
<script type="text/javascript" src="js/sails.io.js"></script>

<script src="js/BB_app/global_functions.js"></script>
<!-- Interface client/server -->
<script type="text/javascript" src="js/BB_app/app.js"></script>


<!-- Global objects -->
<script src="js/BB_app/global_models.js"></script>
<script src="js/BB_app/global_collections.js"></script>

<!-- Modules situÃ©s dans assets/js/BB_app -->


<script type="text/javascript" src="js/BB_app/modules/cklink.js"></script>
<script type="text/javascript" src="js/BB_app/modules/visualisation.js"></script>
<script type="text/javascript" src="js/BB_app/modules/explorer.js"></script>
<script type="text/javascript" src="js/BB_app/interfaces/interface1.js"></script>
<script type="text/javascript" src="js/BB_app/interfaces/interface2.js"></script>
<script type="text/javascript" src="js/BB_app/interfaces/interface3.js"></script>
<script type="text/javascript" src="js/BB_app/modules/concepts.js"></script>

<script>
  ///////////////////////////////////////////////////
  $(document).ready(function () {
    console.log( "CreaKtive DOM loaded!" );
    ////////////////////////////////////////
    Backbone.Model.prototype.toJSON = function() {
      return JSON.parse(JSON.stringify(this.attributes));
    };
    ////////////////////////////////////////
    global.init('<%- currentUser %>', function(){
      /*Modules*/
      cklink.init();
      explorer.init();
      // concepts.init();
      /*Interfaces*/
      interface1.init();
      interface3.init();
      ////////////////////////////////////////
      /*activat of "hashchange events's monitoring"*/

      Backbone.history.start();  
    });
       


  });
</script>


