<div id="category_container"></div>
<!-- //////////////////////////////////////////////////////////////////////: -->
<script type="text/template" id="category-search-template">
    <h5>{{-title}}</h5><hr>
    <input type="text" class="search" placeholder="search in {{-title}}...">
</script>
<!-- //////////////////////////////////////////////////////////////////////: -->
<!-- Barre d'action -->
<script type="text/template" id="category-actionBar-template">
    <div class="expand">
        <div class="small-2 large-2 medium-2 columns">
            <div class="row collapse custom_row">
                <div class="small-10 columns">
                  <input class="category_title" type="text" placeholder="new category..."/>
                </div>
                <div class="small-2 columns">
                  <a href="#" class="button success postfix newCategory">+</a>
                </div>
            </div>
        </div>
        <div class="small-2 large-2 medium-2 columns">
            <div class="row collapse custom_row">
                <div class="small-10 columns">
                  <input id="category_new_unlinked_k_title" type="text" placeholder="new uncategorized knowledge..."/>
                </div>
                <div class="small-2 columns">
                  <a href="#" class="button postfix newUnlinkedK">+</a>
                </div>
            </div>
        </div>
        <div class="small-4 large-4 medium-4 columns">
            <a href="#" data-dropdown="dropmoveto" class="small secondary button dropdown">move to</a>
            <ul id="dropmoveto" data-dropdown-content class="f-dropdown">
                {{ _.each(categories, function(category){ }}
                    <li><a href="#" class="move" data-catg-title="{{-category.title}}">{{-category.title}}</a></li>
                {{ }); }} 
            </ul>
            <a href="#" data-dropdown="dropcopyto" class="small secondary button dropdown">copy to</a>
            <ul id="dropcopyto" data-dropdown-content class="f-dropdown">
                {{ _.each(categories, function(category){ }}
                    <li><a href="#" class="copy" data-catg-title="{{-category.title}}">{{-category.title}}</a></li>
                {{ }); }} 
            </ul>
            <a href="#" class="button small secondary uncategorized">unlink</a>
            <a href="#" class="button small secondary remove">remove</a>
        </div>
        <div class="small-4 large-4 medium-4 columns">
            <a href="#" data-dropdown="dropfilters" class="tiny secondary button dropdown">States</a>
            <ul id="dropfilters" data-dropdown-content class="f-dropdown">
                <li><a href="#" class="addFilter" data-filter-type="notLinked" data-filter-val="notLinked">not linked</a></li>
                <li><a href="#" class="addFilter" data-filter-type="notCategorised" data-filter-val="notCategorized">not categorised</a></li>
                <li><a href="#" class="addFilter" data-filter-type="state" data-filter-val="validated">Validated</a></li>
                <li><a href="#" class="addFilter" data-filter-type="state" data-filter-val="processing">Processing</a></li>
                <li><a href="#" class="addFilter" data-filter-type="state" data-filter-val="missing">Missing</a></li>  
            </ul>
            <a href="#" data-dropdown="dropusers" class="tiny secondary button dropdown">Users</a>
            <ul id="dropusers" data-dropdown-content class="f-dropdown">
                {{ _.each(users, function(user){ }}
                    <li><a href="#" class="addFilter" data-filter-type="user" data-filter-val="{{-user.id}}">{{-user.name}}</a></li>
                {{ }); }} 
            </ul>
            <a href="#" data-dropdown="dropcategories" class="tiny secondary button dropdown">Categories</a>
            <ul id="dropcategories" data-dropdown-content class="f-dropdown">
                {{ _.each(categories, function(category){ }}
                    <li><a href="#" class="addFilter" data-filter-type="category" data-filter-val="{{-category.id}}">{{-category.title}}</a></li>
                {{ }); }}  
            </ul>
        </div>
        
    </div>
    <div class="row"></div>
</script>
<!-- //////////////////////////////////////////////////////////////////////: -->
<script type="text/template" id="category-filters-template">
    <div class="row large-12 medium-12 small-12">
        <ul class="breadcrumbs">
            <li>Context : </li>
            {{ _.each(filters_custom, function(filter){ }}
                <li><a href="#" class="removeFilter" data-filter-id="{{-filter.id}}">{{-filter.title}}</a></li>
            {{ }); }}
        </ul>
    </div>
</script>
<!-- //////////////////////////////////////////////////////////////////////: -->
<script type="text/template" id="category-notCategorized-template">
    <div class="item">
        <a id="bulle{{-knowledge.id}}" href="#" class="button tiny radius round expand secondary CKBulle" style="border-color:{{-knowledge.color}};color:{{-knowledge.color}}">
            <input data-knowledge-id="{{-knowledge.id}}" data-catg-origin="none" type="checkbox" class="Kselectable">
            <strong>{{- knowledge.title }}</strong>
            <span style="width:8%;float:right">
                <img src="img/edit.png" class="openKnowledgeModal" data-model-id="{{-knowledge.id}}" title="edit">
            </span>
            {{ if(notifs_nbr > 0){ }}<span class="top-bar-unread">{{-notifs_nbr}}</span>{{ } }}
        </a>
    </div>
</script>

<script type="text/template" id="category-list-template">
    <div class="item">    
        <ul class="pricing-table">
            <li class="price"class="title">
                <a href="#" class="button tiny success radius expand openCategoryEditorModal" data-category-id="{{-category.id}}">
                    <strong data-category-id="{{-category.id}}">{{- category.title}}</strong>
                    {{if(notifs_nbr > 0){ }}
                        <span class="top-bar-unread" data-category-id="{{-category.id}}">{{-notifs_nbr}}</span>
                    {{ } }}
                    <span style="width:8%;float:right">
                        <img src="img/edit.png" class="openCategoryModal" data-model-id="{{-category.id}}" title="edit">
                    </span>
                </a>
            </li>
            <li class="bullet-item">
                <div class="row collapse">
                    <div class="small-10 columns">
                      <input id="category_new_k_title_{{-category.id}}" type="text" placeholder="new knowledge..."/>
                    </div>
                    <div class="small-2 columns">
                      <a href="#" class="button postfix addKnowledge" data-id-category="{{-category.id}}" data-title-category="{{- category.title}}">+</a>
                    </div>
                </div>
                {{ _.each(knowledges, function(knowledge) { }}
                    <a href="#" id="bulle{{-knowledge.id}}" class="button tiny radius round expand secondary CKBulle" style="border-color:{{-knowledge.color}};color:{{-knowledge.color}}">
                        <input name="k" value="{{-knowledge.id}}" data-knowledge-id="{{-knowledge.id}}" data-catg-origin="{{- category.title}}" type="checkbox" class="Kselectable">
                        <strong>{{- knowledge.title }}</strong>
                        <span style="width:8%;float:right">
                            <img src="img/edit.png" class="openKnowledgeModal" data-model-id="{{-knowledge.id}}" title="edit">
                        </span>
                        {{ if(k_dict_notif[knowledge.id] > 0){ }}<span class="top-bar-unread">{{-k_dict_notif[knowledge.id]}}</span>{{ } }}
                    </a>
                {{ }); }}   
            </li>
        </ul>
    </div>
</script>